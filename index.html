<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cory Ziller - Portfolio</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --space-1: 8px; --space-2: 16px; --space-3: 24px; --space-4: 32px;
            --space-5: 40px; --space-6: 48px; --space-8: 64px; --space-10: 80px;
            --space-12: 96px; --space-16: 128px;
            --text-xs: 0.75rem; --text-sm: 0.875rem; --text-base: 1rem;
            --text-lg: 1.125rem; --text-xl: 1.25rem; --text-2xl: 1.5rem;
            --text-3xl: 1.875rem; --text-4xl: 2.25rem; --text-5xl: 3rem;
            --bg-primary: #0a0a0a; --bg-secondary: #1a1a1a;
            --text-primary: #ffffff; --text-secondary: rgba(255, 255, 255, 0.7);
            --text-tertiary: rgba(255, 255, 255, 0.5);
            --border-subtle: rgba(255, 255, 255, 0.1);
            --spotify-green: #1DB954;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: var(--text-base);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        .hero {
            min-height: 100vh;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: var(--space-4);
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
        }

        .hero-content { max-width: 1100px; width: 100%; animation: fadeIn 0.8s ease-out; }
        .hero-grid { display: grid; grid-template-columns: 350px 1fr; gap: var(--space-8); align-items: start; margin-bottom: var(--space-4); }
        .hero-left { animation: slideUp 0.6s ease-out; }

        .profile-photo {
            width: 240px; height: 240px; border-radius: 16px;
            background: rgba(255, 255, 255, 0.03); border: 2px solid rgba(255, 255, 255, 0.2);
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto var(--space-4); overflow: hidden;
            box-shadow: 0 8px 32px rgba(255, 255, 255, 0.15); transition: all 0.4s;
        }

        .profile-photo img { width: 100%; height: 100%; object-fit: cover; }
        .profile-photo:hover { transform: translateY(-4px); box-shadow: 0 12px 48px rgba(255, 255, 255, 0.2); }
        .hero-greeting { font-size: 1.125rem; font-weight: 500; color: var(--text-secondary); margin-bottom: var(--space-1); }
        .hero-name { font-size: 3.5rem; font-weight: 800; line-height: 1.05; letter-spacing: -0.03em; white-space: nowrap; }
        .hero-right { padding-left: var(--space-8); padding-top: var(--space-4); animation: slideUp 0.7s ease-out 0.1s both; }
        .credential-item { position: relative; margin-bottom: var(--space-4); padding-left: var(--space-3); }
        .credential-bullet { position: absolute; left: 0; top: 6px; width: 6px; height: 6px; border-radius: 50%; background: var(--text-primary); box-shadow: 0 0 8px rgba(255, 255, 255, 0.4); }
        .credential-label { font-size: var(--text-base); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-tertiary); margin-bottom: var(--space-1); }
        .credential-text { font-size: 1.25rem; font-weight: 700; color: var(--text-primary); line-height: 1.5; }
        .tagline-bridge { text-align: center; margin: var(--space-4) auto var(--space-2); padding: 0 var(--space-4); max-width: 800px; animation: fadeIn 0.8s ease-out 0.3s both; }
        .tagline-text { font-size: 1.25rem; font-weight: 500; font-style: italic; color: var(--text-secondary); line-height: 1.4; margin-bottom: var(--space-2); }
        .cta-container { display: flex; gap: var(--space-2); justify-content: center; align-items: flex-end; }
        .arrow-wrapper { display: flex; flex-direction: column; align-items: center; }
        .bouncing-arrow { font-size: var(--text-5xl); margin-bottom: var(--space-2); animation: bounce 2s ease-in-out infinite; color: var(--text-secondary); }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-16px); }
            60% { transform: translateY(-8px); }
        }

        .btn {
            display: inline-block; padding: 14px 32px; background: var(--text-primary);
            color: var(--bg-primary); text-decoration: none; border-radius: 100px;
            font-weight: 600; transition: all 0.3s; border: 2px solid transparent; cursor: pointer;
        }

        .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(255, 255, 255, 0.15); }
        .btn-outline { background: transparent; color: var(--text-primary); border: 2px solid rgba(255, 255, 255, 0.3); }
        .btn-outline:hover { background: rgba(255, 255, 255, 0.05); }

        .works-section { padding: var(--space-16) var(--space-4); background: var(--bg-primary); }
        .works-container { max-width: 1280px; margin: 0 auto; }
        .works-header { text-align: center; margin-bottom: var(--space-8); }
        .works-header h2 { font-size: var(--text-5xl); margin-bottom: var(--space-3); font-weight: 800; }
        .works-subtitle { font-size: var(--text-lg); color: var(--text-secondary); max-width: 600px; margin: 0 auto; }
        .work-card { border-radius: 16px; transition: all 0.4s; cursor: pointer; }
        .work-card:hover { transform: translateY(-8px); box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4); }
        .work-card.expanded { grid-column: 1 / -1; transform: translateY(0); max-width: 1600px; margin: 0 auto; }
        .work-details { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; }
        .work-card.expanded .work-details { max-height: 75vh; padding: var(--space-4); overflow-y: auto; }
        .scroll-section { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease, transform 0.8s ease; }
        .scroll-section.visible { opacity: 1; transform: translateY(0); }
        .close-btn { display: none; margin: var(--space-3) auto; padding: 12px 32px; background: rgba(255, 255, 255, 0.05); border: 2px solid rgba(255, 255, 255, 0.2); color: white; border-radius: 100px; cursor: pointer; font-weight: 600; transition: all 0.3s; }
        .work-card.expanded .close-btn { display: block; }
        .quad-card:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3); }

        /* FULLSCREEN SPOTIFY MODAL */
        .fullscreen-modal {
            display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: #000000; z-index: 9999; overflow-y: auto;
        }

        .fullscreen-modal.active { display: block; animation: fadeIn 0.3s ease; }

        .modal-close-btn {
            position: fixed; top: 24px; right: 24px; width: 48px; height: 48px;
            background: rgba(255, 255, 255, 0.08); border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%; color: #FFFFFF; font-size: 28px; font-weight: 300;
            cursor: pointer; transition: all 0.3s; z-index: 10000;
            display: flex; align-items: center; justify-content: center;
        }

        .modal-close-btn:hover {
            background: rgba(255, 0, 0, 0.2);
            border-color: rgba(255, 0, 0, 0.4);
            transform: scale(1.1);
        }

        .dashboard-container { max-width: 1800px; margin: 0 auto; padding: var(--space-8) var(--space-4); }

        .dashboard-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: var(--space-6); padding-bottom: var(--space-4);
            border-bottom: 2px solid #1db954;
        }

        .dashboard-title { font-size: 2.5rem; font-weight: 900; color: #1db954; }
        .dashboard-subtitle { font-size: 0.875rem; color: rgba(255, 255, 255, 0.6); text-transform: uppercase; letter-spacing: 0.1em; margin-top: 8px; }

        /* TABS */
        .tab-navigation {
            display: flex; gap: 0; margin-bottom: var(--space-6);
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
            overflow-x: auto;
        }

        .tab-btn {
            padding: 16px 24px; background: transparent; border: none;
            border-bottom: 3px solid transparent; color: rgba(255, 255, 255, 0.5);
            font-weight: 700; font-size: 0.875rem; cursor: pointer; transition: all 0.2s;
            text-transform: uppercase; letter-spacing: 0.05em; white-space: nowrap;
        }

        .tab-btn:hover { color: #FFFFFF; border-bottom-color: rgba(29, 185, 84, 0.5); }
        .tab-btn.active { color: #1db954; border-bottom-color: #1db954; }

        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.3s ease; }

        /* STATS GRID */
        .stats-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-3); margin-bottom: var(--space-6);
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px; padding: var(--space-4); transition: all 0.3s;
        }

        .stat-card:hover { background: rgba(29, 185, 84, 0.1); border-color: #1db954; transform: translateY(-2px); }
        .stat-value { font-size: 2.5rem; font-weight: 900; color: #1db954; margin-bottom: 8px; line-height: 1; }
        .stat-label { font-size: 0.75rem; color: rgba(255, 255, 255, 0.7); text-transform: uppercase; letter-spacing: 0.1em; font-weight: 700; }

        /* TOP LISTS */
        .top-lists { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: var(--space-4); }

        .top-list {
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px; overflow: hidden;
        }

        .list-header {
            background: rgba(29, 185, 84, 0.15); padding: var(--space-3);
            border-bottom: 1px solid rgba(29, 185, 84, 0.3);
        }
        .list-title { font-size: 1.125rem; font-weight: 800; color: #FFFFFF; }

        .list-item {
            display: flex; align-items: center; gap: var(--space-2);
            padding: 12px var(--space-3); border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.2s;
        }

        .list-item:hover { background: rgba(29, 185, 84, 0.08); }
        .list-item:last-child { border-bottom: none; }
        .item-rank { font-weight: 900; color: #1db954; font-size: 1.125rem; min-width: 40px; }
        .item-info { flex: 1; min-width: 0; }
        .item-name { font-weight: 700; color: #FFFFFF; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .item-artist { font-size: 0.8125rem; color: rgba(255, 255, 255, 0.6); }
        .item-count { font-weight: 700; color: #FFFFFF; white-space: nowrap; }

        /* YEAR CAROUSEL */
        .year-filter {
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px; padding: var(--space-4); margin-bottom: var(--space-4);
        }

        .year-filter h3 { color: #1db954; margin-bottom: 12px; font-size: 1.125rem; }
        .year-filter p { color: rgba(255, 255, 255, 0.6); font-size: 0.875rem; margin-bottom: var(--space-3); }

        .current-year {
            text-align: center; font-size: 2rem; font-weight: 900;
            color: #1db954; margin-bottom: 16px;
        }

        .year-slider {
            width: 100%; height: 6px; -webkit-appearance: none; appearance: none;
            background: #333; border-radius: 3px; outline: none;
        }

        .year-slider::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none;
            width: 20px; height: 20px; background: #1db954;
            border-radius: 50%; cursor: pointer; border: 3px solid #000;
        }

        .year-slider::-moz-range-thumb {
            width: 20px; height: 20px; background: #1db954;
            border-radius: 50%; cursor: pointer; border: 3px solid #000;
        }

        .year-marks {
            display: flex; justify-content: space-between; margin-top: 8px;
            color: rgba(255, 255, 255, 0.5); font-size: 0.75rem; font-weight: 600;
        }

        .year-carousel {
            display: grid; grid-template-columns: 1fr 1fr 1fr;
            gap: var(--space-3); margin-top: var(--space-4);
        }

        .year-column {
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px; padding: var(--space-3);
        }

        .year-column.current {
            border: 2px solid #1db954;
            background: rgba(29, 185, 84, 0.05);
        }

        .year-column h4 {
            color: #1db954; margin-bottom: 16px; text-align: center;
            font-size: 1.25rem; font-weight: 800;
        }

        .year-column.current h4 {
            font-size: 1.5rem;
            color: #1ed760;
        }

        .rank-change {
            font-size: 11px; margin-left: 8px;
            padding: 2px 6px; border-radius: 4px; font-weight: 700;
        }

        .rank-change.up {
            color: #1db954;
            background: rgba(29, 185, 84, 0.15);
        }

        .rank-change.down {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.15);
        }

        .rank-change.new {
            color: #4dabf7;
            background: rgba(77, 171, 247, 0.15);
        }

        /* GENRE SECTIONS */
        .genre-section { margin-bottom: var(--space-4); }

        .genre-header {
            background: rgba(255, 255, 255, 0.05); padding: var(--space-3);
            border-radius: 8px 8px 0 0; border: 1px solid rgba(255, 255, 255, 0.15);
            border-bottom: none; cursor: pointer; display: flex;
            justify-content: space-between; align-items: center;
            transition: background 0.3s ease;
        }

        .genre-header:hover { background: rgba(255, 255, 255, 0.08); }
        .genre-name { font-size: 1.25rem; font-weight: 800; color: #1db954; }
        .genre-toggle { font-size: 1.5rem; color: #1db954; }

        .genre-content {
            background: rgba(0, 0, 0, 0.3); padding: var(--space-4);
            border-radius: 0 0 8px 8px; border: 1px solid rgba(255, 255, 255, 0.15);
            border-top: none; display: none;
        }

        .genre-content.active { display: block; }
        .genre-content p { color: rgba(255, 255, 255, 0.6); margin-bottom: var(--space-3); }

        .subgenre-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-3);
        }

        .subgenre-card {
            background: rgba(255, 255, 255, 0.05); padding: var(--space-3);
            border-radius: 6px; border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .subgenre-card h4 {
            color: #1ed760; font-size: 1rem;
            margin-bottom: 12px; font-weight: 700;
        }

        .subgenre-artists {
            font-size: 0.875rem; color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
        }

        /* CHARTS */
        .chart-container {
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px; padding: var(--space-4); margin-bottom: var(--space-4);
        }

        .chart-container h3 {
            color: #1db954; margin-bottom: 8px;
            font-size: 1.125rem; font-weight: 800;
        }

        .chart-description {
            color: rgba(255, 255, 255, 0.6); font-size: 0.875rem;
            margin-bottom: var(--space-3); line-height: 1.6;
        }

        .chart-wrapper {
            position: relative; height: 300px;
        }

        .chart-wrapper.large {
            height: 400px;
        }

        /* LYRIC CLOUD */
        #lyricCloudDisplay {
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px; padding: var(--space-6); min-height: 400px;
            display: flex; flex-wrap: wrap; justify-content: center;
            align-items: center; gap: 12px;
        }

        .word-item {
            display: inline-block; padding: 8px 16px; margin: 4px;
            background: rgba(29, 185, 84, 0.1); border: 1px solid rgba(29, 185, 84, 0.3);
            border-radius: 6px; color: #1db954; font-weight: 600;
            transition: all 0.3s ease; cursor: default;
        }

        .word-item:hover {
            background: rgba(29, 185, 84, 0.2);
            border-color: #1db954;
            transform: scale(1.1);
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 1024px) {
            .hero-grid { grid-template-columns: 1fr; gap: var(--space-8); text-align: center; }
            .hero-right { padding-left: 0; }
            .credential-item { text-align: left; max-width: 600px; margin-left: auto; margin-right: auto; }
            .year-carousel { grid-template-columns: 1fr; }
        }

        html { scroll-behavior: smooth; }
    </style>
</head>
<body>
    <section class="hero">
        <div class="hero-content">
            <div class="hero-grid">
                <div class="hero-left">
                    <div class="profile-photo">
                        <img src="profile.jpg" alt="Cory Ziller" onerror="this.parentElement.innerHTML='CZ';">
                    </div>
                    <div style="text-align: left;">
                        <p class="hero-greeting">Hey there,</p>
                        <h1 class="hero-name">I'm Cory Ziller</h1>
                    </div>
                </div>

                <div class="hero-right">
                    <div class="credential-item">
                        <div class="credential-bullet"></div>
                        <div class="credential-label">Current</div>
                        <p class="credential-text">STEM MBA candidate at Ohio State.</p>
                    </div>

                    <div class="credential-item">
                        <div class="credential-bullet"></div>
                        <div class="credential-label">Previously</div>
                        <p class="credential-text">Sr. Data Analyst at a Chicago-based advertising agency.</p>
                    </div>

                    <div class="credential-item">
                        <div class="credential-bullet"></div>
                        <div class="credential-label">Early Experience</div>
                        <p class="credential-text">AI startup experience supporting law enforcement adoption of anti-trafficking technology.</p>
                    </div>
                </div>
            </div>

            <div class="tagline-bridge">
                <p class="tagline-text">I love turning ideas into automation. Check it out!</p>

                <div class="cta-container">
                    <a href="https://www.linkedin.com/in/cory-ziller/" target="_blank" class="btn btn-outline">View LinkedIn</a>

                    <div class="arrow-wrapper">
                        <div class="bouncing-arrow">↓</div>
                        <a href="#works" class="btn">Side Projects</a>
                    </div>

                    <a href="#" class="btn btn-outline">Work History</a>
                </div>
            </div>
        </div>
    </section>

    <section class="works-section" id="works">
        <div class="works-container">
            <div class="works-header">
                <h2>Side Projects</h2>
                <p class="works-subtitle">Automation workflows that creatively solve problems and save time</p>
            </div>

            <div style="margin-top: 80px;">
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; max-width: 1200px; margin: 0 auto;">

                    <!-- Card 1: Social Listening -->
                    <div class="work-card quad-card" id="social-card" onclick="toggleCard('social-card')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 16px; padding: 40px; color: white; position: relative; min-height: 280px; transition: transform 0.3s ease; cursor: pointer;">
                        <div style="background: white; width: 48px; height: 48px; border-radius: 8px; margin-bottom: 24px; display: flex; align-items: center; justify-content: center;">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#667eea" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 12h3"></path><path d="M6 8v8"></path><path d="M9 5v14"></path><path d="M12 3v18"></path><path d="M15 5v14"></path><path d="M18 8v8"></path><path d="M21 12h-3"></path>
                            </svg>
                        </div>
                        <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 16px; line-height: 1.3;">
                            TRACK USER PRODUCT SENTIMENT ACROSS REDDIT & HACKER NEWS
                        </h3>
                        <p style="font-size: 1rem; line-height: 1.6; opacity: 0.95;">
                            Automates user sentiment tracking for product teams. Scrapes Reddit and Hacker News daily, analyzes feedback, and emails a 30-second audio summary.
                        </p>

                        <div class="work-details">
                            <div style="border-top: 1px solid rgba(255,255,255,0.2); margin-top: var(--space-4); padding-top: var(--space-6);">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; margin-bottom: var(--space-8);">

                                    <div>
                                        <div style="margin-bottom: 48px;">
                                            <h4 style="font-size: 1.75rem; font-weight: 800; margin-bottom: 16px;">The Idea</h4>
                                            <p style="font-size: 1.0625rem; line-height: 1.7;">
                                                NVIDIA product managers need to track user sentiment to prioritize product features and understand pain points, but checking Reddit and Hacker News daily takes hours. Automate the entire process.
                                            </p>
                                        </div>

                                        <div style="margin-bottom: 48px;">
                                            <h4 style="font-size: 1.75rem; font-weight: 800; margin-bottom: 20px;">What I Built</h4>
                                            <div style="display: flex; flex-direction: column; gap: 16px;">
                                                <div style="padding-left: 12px; border-left: 2px solid rgba(255,255,255,0.3);">
                                                    <div style="font-weight: 700; margin-bottom: 4px;">Scrape</div>
                                                    <div style="font-size: 0.9375rem; opacity: 0.75;">Reddit & Hacker News daily</div>
                                                    <div style="font-size: 0.8125rem; opacity: 0.5; margin-top: 2px;">Python + Public APIs</div>
                                                </div>
                                                <div style="opacity: 0.5; margin-left: 12px;">↓</div>
                                                <div style="padding-left: 12px; border-left: 2px solid rgba(255,255,255,0.3);">
                                                    <div style="font-weight: 700; margin-bottom: 4px;">Analyze</div>
                                                    <div style="font-size: 0.9375rem; opacity: 0.75;">Sentiment & categorization</div>
                                                    <div style="font-size: 0.8125rem; opacity: 0.5; margin-top: 2px;">OpenAI API</div>
                                                </div>
                                                <div style="opacity: 0.5; margin-left: 12px;">↓</div>
                                                <div style="padding-left: 12px; border-left: 2px solid rgba(255,255,255,0.3);">
                                                    <div style="font-weight: 700; margin-bottom: 4px;">Generate</div>
                                                    <div style="font-size: 0.9375rem; opacity: 0.75;">30-second audio summary</div>
                                                    <div style="font-size: 0.8125rem; opacity: 0.5; margin-top: 2px;">Google Text-to-Speech</div>
                                                </div>
                                                <div style="opacity: 0.5; margin-left: 12px;">↓</div>
                                                <div style="padding-left: 12px; border-left: 2px solid rgba(255,255,255,0.3);">
                                                    <div style="font-weight: 700; margin-bottom: 4px;">Email</div>
                                                    <div style="font-size: 0.9375rem; opacity: 0.75;">Automated delivery</div>
                                                    <div style="font-size: 0.8125rem; opacity: 0.5; margin-top: 2px;">Brevo API</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div>
                                            <h4 style="font-size: 1.75rem; font-weight: 800; margin-bottom: 16px;">The Impact</h4>
                                            <p style="font-size: 1.0625rem; line-height: 1.7;">
                                                Daily automated insights from Reddit & Hacker News on product sentiment. Zero manual work. Always fresh data.
                                            </p>
                                        </div>
                                    </div>

                                    <div>
                                        <div class="scroll-section" style="text-align: center; background: rgba(255,255,255,0.1); padding: 40px 32px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.2);">
                                            <div style="margin-bottom: 32px;">
                                                <span style="font-size: 0.8125rem; font-weight: 600; opacity: 0.7; text-transform: uppercase; letter-spacing: 0.1em;">See It In Action</span>
                                                <h3 style="font-size: 2rem; font-weight: 800; margin-top: 12px; margin-bottom: 16px;">Try the workflow</h3>
                                                <p style="font-size: 1rem; opacity: 0.85; line-height: 1.6;">
                                                    Get a sample email with real sentiment data and an audio briefing.
                                                </p>
                                            </div>
                                            <form id="socialListeningForm" onclick="event.stopPropagation()">
                                                <div style="margin-bottom: var(--space-3); text-align: left;">
                                                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 600;">Your Name</label>
                                                    <input type="text" id="nameInput" placeholder="John Doe" required
                                                        style="width: 100%; padding: 16px; border: 2px solid rgba(255,255,255,0.3); border-radius: 12px; background: rgba(255, 255, 255, 0.95); font-size: 1rem; color: #000;">
                                                </div>
                                                <div style="margin-bottom: var(--space-4); text-align: left;">
                                                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 600;">Your Email</label>
                                                    <input type="email" id="emailInput" placeholder="john@example.com" required
                                                        style="width: 100%; padding: 16px; border: 2px solid rgba(255,255,255,0.3); border-radius: 12px; background: rgba(255, 255, 255, 0.95); font-size: 1rem; color: #000;">
                                                </div>
                                                <button type="submit" style="width: 100%; padding: 16px 32px; background: white; color: #667eea; border: none; border-radius: 12px; font-size: 1.125rem; font-weight: 700; cursor: pointer;">
                                                    Send Me the Demo Report
                                                </button>
                                                <div id="demoResult" style="margin-top: var(--space-4); padding: var(--space-3); background: rgba(255, 255, 255, 0.1); border-radius: 12px; display: none;"></div>
                                            </form>
                                        </div>
                                    </div>

                                </div>

                                <button class="close-btn" onclick="toggleCard('social-card'); event.stopPropagation();">Close</button>
                            </div>
                        </div>
                    </div>

                    <!-- Card 2: SPOTIFY TRENDS -->
                    <div class="work-card quad-card" onclick="openSpotifyDashboard()" style="background: linear-gradient(135deg, #1DB954 0%, #1ed760 100%); border-radius: 16px; padding: 40px; color: white; position: relative; min-height: 280px; transition: transform 0.3s ease; cursor: pointer;">
                        <div style="background: white; width: 48px; height: 48px; border-radius: 8px; margin-bottom: 24px; display: flex; align-items: center; justify-content: center;">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#1DB954" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                        </div>
                        <h3 style="font-size: 1.5rem; font-weight: 800; margin-bottom: 16px; line-height: 1.3; color: #000000;">
                            SPOTIFY TRENDS: 13 YEARS OF LISTENING
                        </h3>
                        <p style="font-size: 1rem; line-height: 1.6; color: #000000; font-weight: 500;">
                            Unlike Spotify Wrapped™ which captures a single year, this dashboard analyzes 13 years of listening history to reveal how my musical preferences, favorite artists, and lyrical themes have evolved.
                        </p>
                    </div>

                    <!-- Card 3 -->
                    <div class="quad-card" style="background: linear-gradient(135deg, #E89BA7 0%, #D67886 100%); border-radius: 16px; padding: 40px; color: white; min-height: 280px;">
                        <div style="background: white; width: 48px; height: 48px; border-radius: 8px; margin-bottom: 24px; display: flex; align-items: center; justify-content: center;">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#E89BA7" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                        </div>
                        <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 16px;">MORE TO COME...</h3>
                        <p style="font-size: 1rem; line-height: 1.6;">New projects in the works.</p>
                    </div>

                    <!-- Card 4 -->
                    <div class="quad-card" style="background: linear-gradient(135deg, #D4B896 0%, #B89968 100%); border-radius: 16px; padding: 40px; color: white; min-height: 280px;">
                        <div style="background: white; width: 48px; height: 48px; border-radius: 8px; margin-bottom: 24px; display: flex; align-items: center; justify-content: center;">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#D4B896" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                        </div>
                        <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 16px;">MORE TO COME...</h3>
                        <p style="font-size: 1rem; line-height: 1.6;">New projects in the works.</p>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- FULL

SCREEN SPOTIFY MODAL -->
    <div id="spotifyModal" class="fullscreen-modal">
        <button class="modal-close-btn" onclick="closeSpotifyDashboard()">×</button>

        <div class="dashboard-container">
            <div class="dashboard-header">
                <div>
                    <h1 class="dashboard-title">Spotify Listening Analytics</h1>
                    <p class="dashboard-subtitle">Data through February 15, 2026 | 13 Years • 6,500+ Hours • 132,000+ Plays</p>
                </div>
            </div>

            <div class="tab-navigation">
                <button class="tab-btn active" onclick="switchTab(event, 'overview')">Overview</button>
                <button class="tab-btn" onclick="switchTab(event, 'artistEvolution')">Artist Evolution</button>
                <button class="tab-btn" onclick="switchTab(event, 'genreEvolution')">Genre Evolution</button>
                <button class="tab-btn" onclick="switchTab(event, 'charts')">Charts & Trends</button>
                <button class="tab-btn" onclick="switchTab(event, 'lyricCloud')">Lyric Cloud</button>
            </div>

            <!-- Tab Contents -->
            <div id="overview" class="tab-content active"></div>
            <div id="artistEvolution" class="tab-content"></div>
            <div id="genreEvolution" class="tab-content"></div>
            <div id="charts" class="tab-content"></div>
            <div id="lyricCloud" class="tab-content"></div>
        </div>
    </div>

    <script>
        // Global Data
        const SPOTIFY_DATA = { stats: null, artistEvolution: null, monthlyTrends: null, topSongsByPeriod: null };
        const FILTERED_ARTISTS = ['meghan trainor', 'unknown'];
        let charts = {};

        // Filter Functions
        function shouldFilterArtist(artistName) {
            if (!artistName) return true;
            const lowerName = artistName.toLowerCase();
            return FILTERED_ARTISTS.some(filtered => lowerName === filtered);
        }

        // Load Data
        async function loadSpotifyData() {
            try {
                const [stats, artistEvolution, monthlyTrends, topSongs] = await Promise.all([
                    fetch('spotify-trends/basic_stats.json').then(r => r.json()),
                    fetch('spotify-trends/artist_evolution.json').then(r => r.json()),
                    fetch('spotify-trends/monthly_trends.json').then(r => r.json()),
                    fetch('spotify-trends/top_songs_by_period.json').then(r => r.json())
                ]);

                SPOTIFY_DATA.stats = stats;
                SPOTIFY_DATA.artistEvolution = artistEvolution;
                SPOTIFY_DATA.monthlyTrends = monthlyTrends;
                SPOTIFY_DATA.topSongsByPeriod = topSongs;

                return true;
            } catch (error) {
                console.error('Error loading data:', error);
                return false;
            }
        }

        // Modal Functions
        async function openSpotifyDashboard() {
            const modal = document.getElementById('spotifyModal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';

            if (!SPOTIFY_DATA.stats) {
                await loadSpotifyData();
                renderOverview();
            }
        }

        function closeSpotifyDashboard() {
            document.getElementById('spotifyModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Tab Switching
        function switchTab(event, tabName) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');

            // Render content for each tab
            switch(tabName) {
                case 'overview':
                    if (!document.getElementById('overview').innerHTML) renderOverview();
                    break;
                case 'artistEvolution':
                    if (!document.getElementById('artistEvolution').innerHTML) renderArtistEvolution();
                    break;
                case 'genreEvolution':
                    if (!document.getElementById('genreEvolution').innerHTML) renderGenreEvolution();
                    break;
                case 'charts':
                    if (!document.getElementById('charts').innerHTML) {
                        renderChartsTab();
                        setTimeout(renderAllCharts, 100);
                    }
                    break;
                case 'lyricCloud':
                    if (!document.getElementById('lyricCloud').innerHTML) {
                        renderLyricCloudTab();
                        setTimeout(() => updateLyricCloud(getAllYears().length), 100);
                    }
                    break;
            }
        }

        // OVERVIEW TAB
        function renderOverview() {
            const stats = SPOTIFY_DATA.stats;
            if (!stats) return;

            const topArtists = Object.entries(stats.top_artists_all_time)
                .filter(([artist]) => !shouldFilterArtist(artist))
                .slice(0, 10);

            const topTracks = stats.top_tracks_all_time
                .filter(track => !shouldFilterArtist(track.artist))
                .slice(0, 10);

            document.getElementById('overview').innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">${(stats.total_hours).toLocaleString(undefined, {maximumFractionDigits: 0})}</div>
                        <div class="stat-label">Total Hours</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.total_plays.toLocaleString()}</div>
                        <div class="stat-label">Total Plays</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.unique_tracks.toLocaleString()}</div>
                        <div class="stat-label">Unique Tracks</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.unique_artists.toLocaleString()}</div>
                        <div class="stat-label">Unique Artists</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.avg_skip_rate.toFixed(1)}%</div>
                        <div class="stat-label">Avg Skip Rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">13</div>
                        <div class="stat-label">Years of Data</div>
                    </div>
                </div>

                <div class="top-lists">
                    <div class="top-list">
                        <div class="list-header">
                            <div class="list-title">Top Artists of All Time</div>
                        </div>
                        ${topArtists.map(([artist, count], i) => `
                            <div class="list-item">
                                <div class="item-rank">#${i + 1}</div>
                                <div class="item-info">
                                    <div class="item-name">${artist}</div>
                                </div>
                                <div class="item-count">${count.toLocaleString()} plays</div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="top-list">
                        <div class="list-header">
                            <div class="list-title">Top Tracks of All Time</div>
                        </div>
                        ${topTracks.map((track, i) => `
                            <div class="list-item">
                                <div class="item-rank">#${i + 1}</div>
                                <div class="item-info">
                                    <div class="item-name">${track.track}</div>
                                    <div class="item-artist">${track.artist}</div>
                                </div>
                                <div class="item-count">${track.play_count.toLocaleString()}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // ARTIST EVOLUTION TAB
        function getAllYears() {
            return Object.keys(SPOTIFY_DATA.artistEvolution || {}).sort();
        }

        function renderArtistEvolution() {
            const years = getAllYears();

            document.getElementById('artistEvolution').innerHTML = `
                <div class="year-filter">
                    <h3>Select Year</h3>
                    <p>Slide through years to see how your top artists changed over time. The carousel below shows year-over-year comparisons with ranking changes.</p>
                    <div class="current-year" id="artistCurrentYear">2013</div>
                    <div>
                        <input type="range" class="year-slider" id="artistYearSlider"
                               min="0" max="${years.length - 1}" value="1" oninput="updateArtistCarousel(this.value)">
                        <div class="year-marks">
                            <div>${years[0]}</div>
                            <div>${years[Math.floor(years.length / 2)]}</div>
                            <div>${years[years.length - 1]}</div>
                        </div>
                    </div>
                </div>
                <div id="yearCarousel" class="year-carousel"></div>
            `;

            setTimeout(() => updateArtistCarousel(1), 100);
        }

        function updateArtistCarousel(value) {
            const years = getAllYears();
            const idx = parseInt(value);
            const currentYear = years[idx];
            const prevYear = idx > 0 ? years[idx - 1] : null;
            const nextYear = idx < years.length - 1 ? years[idx + 1] : null;

            document.getElementById('artistCurrentYear').textContent = currentYear;

            const carousel = document.getElementById('yearCarousel');
            let html = '';

            // Previous Year
            if (prevYear) {
                const data = SPOTIFY_DATA.artistEvolution[prevYear]
                    .filter(item => !shouldFilterArtist(item.artist))
                    .slice(0, 10);

                html += `
                    <div class="year-column">
                        <h4>${prevYear}</h4>
                        ${data.map((item, i) => `
                            <div class="list-item">
                                <div class="item-rank">#${i + 1}</div>
                                <div class="item-info">
                                    <div class="item-name">${item.artist}</div>
                                </div>
                                <div class="item-count">${item.play_count.toLocaleString()}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else {
                html += '<div class="year-column"></div>';
            }

            // Current Year
            const currentData = SPOTIFY_DATA.artistEvolution[currentYear]
                .filter(item => !shouldFilterArtist(item.artist))
                .slice(0, 10);

            const prevYearData = prevYear ? SPOTIFY_DATA.artistEvolution[prevYear]
                .filter(item => !shouldFilterArtist(item.artist)) : null;

            html += `
                <div class="year-column current">
                    <h4>${currentYear}</h4>
                    ${currentData.map((item, i) => {
                        const rankChange = getRankChange(item.artist, prevYearData, currentData);
                        return `
                            <div class="list-item">
                                <div class="item-rank">#${i + 1}</div>
                                <div class="item-info">
                                    <div class="item-name">
                                        ${item.artist}
                                        ${rankChange.text !== '−' ? `<span class="rank-change ${rankChange.type}">${rankChange.text}</span>` : ''}
                                    </div>
                                </div>
                                <div class="item-count">${item.play_count.toLocaleString()}</div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;

            // Next Year
            if (nextYear) {
                const nextData = SPOTIFY_DATA.artistEvolution[nextYear]
                    .filter(item => !shouldFilterArtist(item.artist))
                    .slice(0, 10);

                html += `
                    <div class="year-column">
                        <h4>${nextYear}</h4>
                        ${nextData.map((item, i) => {
                            const rankChange = getRankChange(item.artist, currentData, nextData);
                            return `
                                <div class="list-item">
                                    <div class="item-rank">#${i + 1}</div>
                                    <div class="item-info">
                                        <div class="item-name">
                                            ${item.artist}
                                            ${rankChange.text !== '−' ? `<span class="rank-change ${rankChange.type}">${rankChange.text}</span>` : ''}
                                        </div>
                                    </div>
                                    <div class="item-count">${item.play_count.toLocaleString()}</div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            } else {
                html += '<div class="year-column"></div>';
            }

            carousel.innerHTML = html;
        }

        function getRankChange(artist, prevYearData, currentYearData) {
            if (!prevYearData) return { type: 'new', text: 'NEW' };

            const prevRank = prevYearData.findIndex(a => a.artist === artist);
            const currentRank = currentYearData.findIndex(a => a.artist === artist);

            if (prevRank === -1) return { type: 'new', text: 'NEW' };

            const change = prevRank - currentRank;
            if (change > 0) return { type: 'up', text: `↑${change}` };
            if (change < 0) return { type: 'down', text: `↓${Math.abs(change)}` };
            return { type: 'same', text: '−' };
        }

        // GENRE EVOLUTION TAB
        const GENRE_MAP = {
            pop: ['Ariana Grande', 'Meghan Trainor', 'Renée Rapp', 'RAYE', 'FLO', 'Gloria Tells', 'Aqyila'],
            rnb: ['Beyoncé', 'Kelly Rowland', 'PJ Morton', 'Amber Mark', 'Tom Misch', 'Juice'],
            jazz: ['Michael Bublé', 'Sammy Rae & The Friends'],
            acappella: ['Pentatonix', 'Juxtaposition', 'Twisted Measure', 'Street Corner Renaissance'],
            indie: ['Stephen Day', 'Brayton Bowman', 'Ben Platt', 'Zak Resnick']
        };

        const POP_SUBGENRES = {
            'Dance Pop': ['Ariana Grande', 'FLO', 'RAYE'],
            'Disco Pop': ['Renée Rapp', 'Gloria Tells'],
            'R&B Pop': ['Aqyila']
        };

        function renderGenreEvolution() {
            const years = getAllYears();

            document.getElementById('genreEvolution').innerHTML = `
                <div class="year-filter">
                    <h3>Year Filter</h3>
                    <div class="current-year" id="genreCurrentYear">All Years</div>
                    <div>
                        <input type="range" class="year-slider" id="genreYearSlider"
                               min="0" max="${years.length}" value="${years.length}" oninput="updateGenreYear(this.value)">
                        <div class="year-marks">
                            <div>${years[0]}</div>
                            <div>All Years</div>
                            <div>${years[years.length - 1]}</div>
                        </div>
                    </div>
                </div>

                <div id="genreContainer">
                    <div class="genre-section">
                        <div class="genre-header" onclick="toggleGenre('pop')">
                            <span class="genre-name">Pop</span>
                            <span class="genre-toggle">+</span>
                        </div>
                        <div class="genre-content" id="genre-pop">
                            <p>Modern pop music with subcategories ranging from dance-pop to R&B-influenced pop styles.</p>
                            <div class="subgenre-grid" id="popSubgenres"></div>
                        </div>
                    </div>

                    <div class="genre-section">
                        <div class="genre-header" onclick="toggleGenre('rnb')">
                            <span class="genre-name">R&B / Soul</span>
                            <span class="genre-toggle">+</span>
                        </div>
                        <div class="genre-content" id="genre-rnb">
                            <p>R&B, soul, and neo-soul artists featuring smooth vocals and groove-based rhythms.</p>
                            <div class="subgenre-grid" id="rnbSubgenres"></div>
                        </div>
                    </div>

                    <div class="genre-section">
                        <div class="genre-header" onclick="toggleGenre('jazz')">
                            <span class="genre-name">Jazz / Standards</span>
                            <span class="genre-toggle">+</span>
                        </div>
                        <div class="genre-content" id="genre-jazz">
                            <p>Jazz standards, vocal jazz, and contemporary jazz-influenced artists.</p>
                            <div class="subgenre-grid" id="jazzSubgenres"></div>
                        </div>
                    </div>

                    <div class="genre-section">
                        <div class="genre-header" onclick="toggleGenre('acappella')">
                            <span class="genre-name">A Cappella / Vocal Groups</span>
                            <span class="genre-toggle">+</span>
                        </div>
                        <div class="genre-content" id="genre-acappella">
                            <p>Vocal groups performing without instrumental accompaniment.</p>
                            <div class="subgenre-grid" id="acappellaSubgenres"></div>
                        </div>
                    </div>

                    <div class="genre-section">
                        <div class="genre-header" onclick="toggleGenre('indie')">
                            <span class="genre-name">Indie / Alternative</span>
                            <span class="genre-toggle">+</span>
                        </div>
                        <div class="genre-content" id="genre-indie">
                            <p>Independent and alternative artists with unique, genre-blending sounds.</p>
                            <div class="subgenre-grid" id="indieSubgenres"></div>
                        </div>
                    </div>
                </div>
            `;

            setTimeout(() => updateGenreYear(years.length), 100);
        }

        function toggleGenre(genreId) {
            const content = document.getElementById(`genre-${genreId}`);
            const header = event.currentTarget;
            const toggle = header.querySelector('.genre-toggle');

            if (content.classList.contains('active')) {
                content.classList.remove('active');
                toggle.textContent = '+';
            } else {
                content.classList.add('active');
                toggle.textContent = '−';
            }
        }

        function updateGenreYear(value) {
            const years = getAllYears();
            const isAllYears = value == years.length;

            document.getElementById('genreCurrentYear').textContent = isAllYears ? 'All Years' : years[value];

            let artistData;
            if (isAllYears) {
                artistData = Object.entries(SPOTIFY_DATA.stats.top_artists_all_time)
                    .filter(([artist]) => !shouldFilterArtist(artist))
                    .slice(0, 50)
                    .map(([artist, play_count]) => ({ artist, play_count }));
            } else {
                artistData = SPOTIFY_DATA.artistEvolution[years[value]]
                    .filter(item => !shouldFilterArtist(item.artist));
            }

            // Render Pop subgenres
            const popHtml = Object.entries(POP_SUBGENRES).map(([subgenre, artists]) => {
                const matchingArtists = artistData
                    .filter(item => artists.includes(item.artist))
                    .slice(0, 5);

                if (matchingArtists.length === 0) return '';

                return `
                    <div class="subgenre-card">
                        <h4>${subgenre}</h4>
                        <div class="subgenre-artists">
                            ${matchingArtists.map(item =>
                                `${item.artist} (${item.play_count.toLocaleString()} plays)`
                            ).join('<br>')}
                        </div>
                    </div>
                `;
            }).join('');

            document.getElementById('popSubgenres').innerHTML = popHtml || '<p style="color: #888;">No data for this year</p>';

            // Render other genres
            ['rnb', 'jazz', 'acappella', 'indie'].forEach(genre => {
                const genreArtists = GENRE_MAP[genre];
                const matchingArtists = artistData
                    .filter(item => genreArtists.includes(item.artist))
                    .slice(0, 10);

                const html = matchingArtists.length > 0 ? `
                    <div class="subgenre-card">
                        <h4>Top Artists</h4>
                        <div class="subgenre-artists">
                            ${matchingArtists.map(item =>
                                `${item.artist} (${item.play_count.toLocaleString()} plays)`
                            ).join('<br>')}
                        </div>
                    </div>
                ` : '<p style="color: #888;">No data for this year</p>';

                document.getElementById(`${genre}Subgenres`).innerHTML = html;
            });
        }

        // CHARTS & TRENDS TAB
        function renderChartsTab() {
            document.getElementById('charts').innerHTML = `
                <div class="chart-container">
                    <h3>Listening Hours Over Time</h3>
                    <p class="chart-description">Track your total listening hours month by month to see when you were most engaged with music. Peaks often correspond to new album releases or life events.</p>
                    <div class="chart-wrapper large">
                        <canvas id="listeningHoursChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Total Plays by Year</h3>
                    <p class="chart-description">Annual play counts reveal how your listening intensity has changed over time. Hover to see top artists for each year.</p>
                    <div class="chart-wrapper">
                        <canvas id="playsByYearChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Skip Rate Analysis</h3>
                    <p class="chart-description">Your skip rate indicates how often you skip songs. Lower rates suggest stronger playlist curation or deeper album listening.</p>
                    <div class="chart-wrapper">
                        <canvas id="skipRateChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Artist Discovery Timeline</h3>
                    <p class="chart-description">See when new artists entered your rotation. Each point represents an artist's first appearance in your top artists. Size indicates their peak popularity.</p>
                    <div class="chart-wrapper large">
                        <canvas id="artistDiscoveryChart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Monthly Listening Intensity</h3>
                    <p class="chart-description">This heatmap reveals seasonal listening patterns. Darker colors indicate heavier listening months, showing how your music consumption varies throughout the year.</p>
                    <div class="chart-wrapper large">
                        <canvas id="listeningHeatmapChart"></canvas>
                    </div>
                </div>
            `;
        }

        function renderAllCharts() {
            if (!SPOTIFY_DATA.monthlyTrends) return;

            // Chart 1: Listening Hours
            const ctx1 = document.getElementById('listeningHoursChart');
            if (ctx1 && !charts.listeningHours) {
                charts.listeningHours = new Chart(ctx1, {
                    type: 'line',
                    data: {
                        labels: SPOTIFY_DATA.monthlyTrends.map(d => d.year_month),
                        datasets: [{
                            label: 'Hours',
                            data: SPOTIFY_DATA.monthlyTrends.map(d => (d.minutes_played / 60).toFixed(2)),
                            borderColor: '#1db954',
                            backgroundColor: 'rgba(29, 185, 84, 0.1)',
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: '#000',
                                titleColor: '#1db954',
                                bodyColor: '#fff',
                                borderColor: '#1db954',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            x: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)', maxRotation: 45, minRotation: 45 }
                            },
                            y: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            }
                        }
                    }
                });
            }

            // Chart 2: Plays by Year
            const yearData = {};
            SPOTIFY_DATA.monthlyTrends.forEach(month => {
                const year = month.year_month.split('-')[0];
                yearData[year] = (yearData[year] || 0) + month.play_count;
            });

            const ctx2 = document.getElementById('playsByYearChart');
            if (ctx2 && !charts.playsByYear) {
                charts.playsByYear = new Chart(ctx2, {
                    type: 'bar',
                    data: {
                        labels: Object.keys(yearData).sort(),
                        datasets: [{
                            label: 'Plays',
                            data: Object.keys(yearData).sort().map(y => yearData[y]),
                            backgroundColor: '#1db954',
                            borderColor: '#1ed760',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: '#000',
                                titleColor: '#1db954',
                                bodyColor: '#fff',
                                borderColor: '#1db954',
                                borderWidth: 1,
                                callbacks: {
                                    afterBody: (tooltipItems) => {
                                        const year = tooltipItems[0].label;
                                        if (SPOTIFY_DATA.artistEvolution[year]) {
                                            const topArtists = SPOTIFY_DATA.artistEvolution[year]
                                                .filter(a => !shouldFilterArtist(a.artist))
                                                .slice(0, 3)
                                                .map(a => a.artist);
                                            return '\n\nTop Artists:\n' + topArtists.join(', ');
                                        }
                                        return '';
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                grid: { display: false },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            },
                            y: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            }
                        }
                    }
                });
            }

            // Chart 3: Skip Rate
            const ctx3 = document.getElementById('skipRateChart');
            if (ctx3 && !charts.skipRate) {
                charts.skipRate = new Chart(ctx3, {
                    type: 'line',
                    data: {
                        labels: SPOTIFY_DATA.monthlyTrends.map(d => d.year_month),
                        datasets: [{
                            label: 'Skip Rate %',
                            data: SPOTIFY_DATA.monthlyTrends.map(d => d.skip_rate.toFixed(2)),
                            borderColor: '#1ed760',
                            backgroundColor: 'rgba(30, 215, 96, 0.1)',
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: '#000',
                                titleColor: '#1db954',
                                bodyColor: '#fff',
                                borderColor: '#1db954',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            x: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)', maxRotation: 45, minRotation: 45 }
                            },
                            y: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            }
                        }
                    }
                });
            }

            // Chart 4: Artist Discovery
            const artistFirstAppearance = {};
            const artistPeakPlays = {};

            getAllYears().forEach(year => {
                SPOTIFY_DATA.artistEvolution[year].forEach(item => {
                    if (shouldFilterArtist(item.artist)) return;

                    if (!artistFirstAppearance[item.artist]) {
                        artistFirstAppearance[item.artist] = year;
                    }

                    artistPeakPlays[item.artist] = Math.max(
                        artistPeakPlays[item.artist] || 0,
                        item.play_count
                    );
                });
            });

            const topArtists = Object.entries(artistPeakPlays)
                .sort(([, a], [, b]) => b - a)
                .slice(0, 30);

            const scatterData = topArtists.map(([artist, peakPlays]) => ({
                x: artistFirstAppearance[artist],
                y: Math.random() * 10,
                r: Math.sqrt(peakPlays) / 5,
                artist: artist,
                plays: peakPlays
            }));

            const ctx4 = document.getElementById('artistDiscoveryChart');
            if (ctx4 && !charts.artistDiscovery) {
                charts.artistDiscovery = new Chart(ctx4, {
                    type: 'bubble',
                    data: {
                        datasets: [{
                            label: 'Artists',
                            data: scatterData,
                            backgroundColor: 'rgba(29, 185, 84, 0.6)',
                            borderColor: '#1db954',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: '#000',
                                titleColor: '#1db954',
                                bodyColor: '#fff',
                                borderColor: '#1db954',
                                borderWidth: 1,
                                callbacks: {
                                    title: (items) => items[0].raw.artist,
                                    label: (context) => [
                                        `First appeared: ${context.raw.x}`,
                                        `Peak plays: ${context.raw.plays.toLocaleString()}`
                                    ]
                                }
                            }
                        },
                        scales: {
                            x: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            },
                            y: {
                                display: false
                            }
                        }
                    }
                });
            }

            // Chart 5: Listening Heatmap
            const yearMonthData = {};
            SPOTIFY_DATA.monthlyTrends.forEach(month => {
                const [year, monthNum] = month.year_month.split('-');
                if (!yearMonthData[year]) yearMonthData[year] = {};
                yearMonthData[year][monthNum] = month.minutes_played / 60;
            });

            const years = Object.keys(yearMonthData).sort();
            const months = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'];

            const heatmapData = years.map(year => {
                return months.map(month => yearMonthData[year]?.[month] || 0);
            }).flat();

            const ctx5 = document.getElementById('listeningHeatmapChart');
            if (ctx5 && !charts.listeningHeatmap) {
                charts.listeningHeatmap = new Chart(ctx5, {
                    type: 'bar',
                    data: {
                        labels: years.flatMap(y => months.map(m => `${y}-${m}`)),
                        datasets: [{
                            label: 'Hours',
                            data: heatmapData,
                            backgroundColor: heatmapData.map(hours => {
                                const opacity = Math.min(hours / 100, 1);
                                return `rgba(29, 185, 84, ${opacity})`;
                            }),
                            borderColor: '#1db954',
                            borderWidth: 0.5
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: '#000',
                                titleColor: '#1db954',
                                bodyColor: '#fff',
                                borderColor: '#1db954',
                                borderWidth: 1,
                                callbacks: {
                                    label: (context) => `${context.parsed.y.toFixed(1)} hours`
                                }
                            }
                        },
                        scales: {
                            x: {
                                grid: { display: false },
                                ticks: {
                                    color: 'rgba(255,255,255,0.7)',
                                    maxRotation: 90,
                                    minRotation: 90,
                                    font: { size: 9 }
                                }
                            },
                            y: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: 'rgba(255,255,255,0.7)' }
                            }
                        }
                    }
                });
            }
        }

        // LYRIC CLOUD TAB
        function renderLyricCloudTab() {
            const years = [...new Set(Object.keys(SPOTIFY_DATA.topSongsByPeriod).map(p => p.split('-')[0]))].sort();

            document.getElementById('lyricCloud').innerHTML = `
                <div class="year-filter">
                    <h3>Lyric Cloud</h3>
                    <p>Explore the evolution of your musical vocabulary. Slide through years to see which words and themes dominated your top tracks each year from 2012 to 2026. Words are extracted from your top 5 most-played song titles per year.</p>
                    <div class="current-year" id="lyricCurrentYear">All Years</div>
                    <div>
                        <input type="range" class="year-slider" id="lyricYearSlider"
                               min="0" max="${years.length}" value="${years.length}" oninput="updateLyricCloud(this.value)">
                        <div class="year-marks">
                            <div>${years[0]}</div>
                            <div>All Years</div>
                            <div>${years[years.length - 1]}</div>
                        </div>
                    </div>
                </div>
                <div id="lyricCloudDisplay"></div>
            `;
        }

        function updateLyricCloud(value) {
            const years = [...new Set(Object.keys(SPOTIFY_DATA.topSongsByPeriod).map(p => p.split('-')[0]))].sort();
            const isAllYears = value == years.length;

            const year = isAllYears ? null : years[value];
            document.getElementById('lyricCurrentYear').textContent = isAllYears ? 'All Years' : year;

            const stopWords = ['the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'from', 'feat', 'ft', 'remix', 'edit', 'version', 'remaster', 'live', 'radio', 'original', 'cast', 'recording'];
            let songs = [];

            if (year) {
                const yearPeriods = Object.keys(SPOTIFY_DATA.topSongsByPeriod)
                    .filter(period => period.startsWith(year));

                const songCounts = {};
                yearPeriods.forEach(period => {
                    SPOTIFY_DATA.topSongsByPeriod[period].forEach(song => {
                        if (!shouldFilterArtist(song.artist)) {
                            const key = `${song.track}|${song.artist}`;
                            songCounts[key] = (songCounts[key] || 0) + song.play_count;
                        }
                    });
                });

                songs = Object.entries(songCounts)
                    .sort(([, a], [, b]) => b - a)
                    .slice(0, 5)
                    .map(([key]) => key.split('|')[0]);
            } else {
                songs = SPOTIFY_DATA.stats.top_tracks_all_time
                    .filter(track => !shouldFilterArtist(track.artist))
                    .slice(0, 10)
                    .map(track => track.track);
            }

            const wordCounts = {};
            songs.forEach(title => {
                const words = title.toLowerCase()
                    .replace(/[^a-z\s]/g, '')
                    .split(/\s+/)
                    .filter(word => word.length > 2 && !stopWords.includes(word));

                words.forEach(word => {
                    wordCounts[word] = (wordCounts[word] || 0) + 1;
                });
            });

            const sortedWords = Object.entries(wordCounts)
                .sort(([, a], [, b]) => b - a)
                .slice(0, 30);

            const maxCount = Math.max(...sortedWords.map(([, count]) => count));
            const html = sortedWords.map(([word, count]) => {
                const size = Math.max(14, (count / maxCount) * 32);
                return `<span class="word-item" style="font-size: ${size}px;">${word}</span>`;
            }).join('');

            document.getElementById('lyricCloudDisplay').innerHTML = html || '<p style="color: #888; text-align: center;">No lyrics available for this year</p>';
        }

        // Social Listening Form
        function toggleCard(cardId) {
            const card = document.getElementById(cardId);
            card.classList.toggle('expanded');

            if (card.classList.contains('expanded')) {
                setTimeout(() => {
                    card.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    initScrollAnimations(card);
                }, 100);
            }
        }

        function initScrollAnimations(card) {
            const scrollContainer = card.querySelector('.work-details');
            const sections = card.querySelectorAll('.scroll-section');

            if (!scrollContainer || !sections.length) return;
            if (sections[0]) sections[0].classList.add('visible');

            scrollContainer.addEventListener('scroll', () => {
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    const containerRect = scrollContainer.getBoundingClientRect();
                    const isVisible = rect.top < containerRect.bottom - 100 && rect.bottom > containerRect.top + 100;
                    if (isVisible) section.classList.add('visible');
                });
            });

            scrollContainer.dispatchEvent(new Event('scroll'));
        }

        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw-1Ug6SYktFirnQKSSkLr6pxTExJpTXdPfEnp6RWKmnIt56fkXk4siFgIp1KjBvBeY/exec';

        document.getElementById('socialListeningForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('nameInput').value.trim();
            const email = document.getElementById('emailInput').value.trim();
            const resultDiv = document.getElementById('demoResult');

            if (!name || !email) return;

            resultDiv.innerHTML = '⏳ Sending...';
            resultDiv.style.display = 'block';

            try {
                fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, email })
                }).catch(err => console.log('Google Sheets:', err));

                const response = await fetch('https://coryzillergithubio-production.up.railway.app/send-demo', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, email })
                });

                const data = await response.json();

                if (response.ok && data.success) {
                    resultDiv.innerHTML = `<strong>✅ Success!</strong><br><br>Check ${email} for the report!`;
                } else {
                    throw new Error(data.error || 'Failed');
                }
            } catch (error) {
                resultDiv.innerHTML = `<strong>❌ Error</strong><br><br>${error.message}`;
            }
        });
    </script>
</body>
</html>
